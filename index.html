<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minesweeper 10x10</title>
  <style>
    body { font-family: sans-serif; background: #222; color: #eee; text-align: center; }
    h1 { margin: 24px 0 12px; }
    #board { display: grid; grid-template-columns: repeat(10, 32px); grid-gap: 2px; justify-content: center; margin: 20px auto; }
    .cell {
      width: 32px; height: 32px; background: #444; color: #ddd;
      border: none; font-size: 20px; cursor: pointer; outline: none;
      display: flex; align-items: center; justify-content: center;
      user-select: none;
      touch-action: manipulation;
    }
    .cell.revealed { background: #ccc; color: #222; cursor: default; }
    .cell.mine { background: #d9534f; color: #fff; }
    .cell.flagged { background: #f0ad4e; color: #222; }
    #reset { margin: 20px; padding: 6px 16px; font-size: 16px; }
    #status { margin-top: 10px; }
  </style>
</head>
<body>
  <h1>10x10 Minesweeper</h1>
  <button id="reset">Restart</button>
  <div id="status"></div>
  <div id="board"></div>
  <script>
    const SIZE = 10, MINES = 15;
    let board, revealed, flagged, mineCount, gameOver;

    function createBoard() {
      board = Array.from({length: SIZE}, () => Array(SIZE).fill(0));
      revealed = Array.from({length: SIZE}, () => Array(SIZE).fill(false));
      flagged = Array.from({length: SIZE}, () => Array(SIZE).fill(false));
      mineCount = MINES; gameOver = false;
      // Place mines
      let placed = 0;
      while (placed < MINES) {
        let r = Math.floor(Math.random() * SIZE), c = Math.floor(Math.random() * SIZE);
        if (board[r][c] === 'M') continue;
        board[r][c] = 'M';
        placed++;
      }
      // Fill numbers
      for(let r=0; r<SIZE; r++) {
        for(let c=0; c<SIZE; c++) {
          if(board[r][c]==='M') continue;
          let mines = 0;
          for(let dr=-1;dr<=1;dr++) for(let dc=-1;dc<=1;dc++)
            if(r+dr>=0 && r+dr<SIZE && c+dc>=0 && c+dc<SIZE && board[r+dr][c+dc]==='M') mines++;
          board[r][c]=mines;
        }
      }
    }
    function renderBoard() {
      const b=document.getElementById('board'); b.innerHTML='';
      for(let r=0;r<SIZE;r++) for(let c=0;c<SIZE;c++) {
        const cell=document.createElement('button');
        cell.className='cell';
        cell.dataset.row=r; cell.dataset.col=c;
        if(revealed[r][c]){
          cell.classList.add('revealed');
          if(board[r][c]==='M') cell.classList.add('mine'), cell.textContent='ğŸ’£';
          else if(board[r][c]) cell.textContent=board[r][c];
        } else if(flagged[r][c]) {
          cell.classList.add('flagged');
          cell.textContent='ğŸš©';
        } else {
          cell.addEventListener('contextmenu', e => {e.preventDefault(); flag(r,c);});
          cell.addEventListener('click',()=>reveal(r,c));
          // Long press for mobile - flag on long tap
          let pressTimer;
          cell.addEventListener('touchstart',function(e){
            pressTimer = setTimeout(() => { flag(r,c); }, 500);
          });
          cell.addEventListener('touchend',function(e){
            clearTimeout(pressTimer);
          });
          cell.addEventListener('touchmove',function(e){
            clearTimeout(pressTimer);
          });
        }
        b.appendChild(cell);
      }
      document.getElementById('status').textContent = gameOver
        ? (checkWin() ? 'ğŸ‰ You win!' : 'ğŸ’¥ Game Over')
        : 'Mines: '+mineCount+' | ×œ×—×™×¦×” ××¨×•×›×” ×‘××•×‘×™×™×œ/×§×œ×™×§ ×™×× ×™ ××¡××Ÿ ×“×’×œ';
    }
    function flag(r,c){
      if(revealed[r][c]||gameOver) return;
      flagged[r][c]=!flagged[r][c];
      mineCount+=flagged[r][c]? -1:1;
      renderBoard();
    }
    function reveal(r,c){
      if(flagged[r][c]||revealed[r][c]||gameOver)return;
      revealed[r][c]=true;
      if(board[r][c]==='M'){ gameOver=true; revealAll(); }
      else if(board[r][c]===0) flood(r,c);
      if(checkWin()) { gameOver=true; }
      renderBoard();
    }
    function revealAll(){
      for(let r=0;r<SIZE;r++) for(let c=0;c<SIZE;c++) revealed[r][c]=true;
    }
    function flood(r,c){
      for(let dr=-1;dr<=1;dr++) for(let dc=-1;dc<=1;dc++){
        let nr=r+dr,nc=c+dc;
        if(nr>=0 && nr<SIZE && nc>=0 && nc<SIZE && !(dr===0&&dc===0)&&!revealed[nr][nc]&&board[nr][nc]!=='M'){
          revealed[nr][nc]=true;
          if(board[nr][nc]===0) flood(nr,nc);
        }
      }
    }
    function checkWin(){
      let safe=0;
      for(let r=0;r<SIZE;r++) for(let c=0;c<SIZE;c++) safe+=(revealed[r][c]||board[r][c]==='M');
      return safe===SIZE*SIZE;
    }
    document.getElementById('reset').onclick=()=>{createBoard();renderBoard();}
    createBoard();renderBoard();
  </script>
</body>
</html>
